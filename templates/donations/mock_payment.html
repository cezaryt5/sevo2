{% extends 'base.html' %}
{% load static %}

{% block title %}Payment Processing - SEVO{% endblock %}

{% block extra_css %}
<style>
.payment-container {
    max-width: 600px;
    margin: 2rem auto;
    padding: 2rem;
    background: #f9f9f9;
    border-radius: 8px;
    text-align: center;
}
.payment-info {
    padding: 2rem;
    background: white;
    border-radius: 4px;
    margin: 2rem 0;
}
.payment-info h2 {
    margin-bottom: 1rem;
}
.amount {
    font-size: 2.5rem;
    font-weight: bold;
    color: #000;
    margin: 1rem 0;
}
.mock-notice {
    padding: 1rem;
    background: #fff3cd;
    border: 1px solid #ffc107;
    border-radius: 4px;
    margin: 1rem 0;
}
.payment-buttons {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
}
.btn {
    flex: 1;
    padding: 1rem;
    border: none;
    border-radius: 4px;
    font-size: 1.1rem;
    cursor: pointer;
}
.btn-success {
    background: #28a745;
    color: white;
}
.btn-success:hover {
    background: #218838;
}
.btn-danger {
    background: #dc3545;
    color: white;
}
.btn-danger:hover {
    background: #c82333;
}
</style>
{% endblock %}

{% block content %}
<section class="container">
    <div class="payment-container">
        <h1>{{ donation.get_payment_method_display }} Payment</h1>
        
        <div class="mock-notice">
            <strong>⚠️ Test Mode:</strong> This is a mock payment interface for testing purposes.
            Real payment integration will be added in production.
        </div>
        
        <div class="payment-info">
            <h2>Payment Summary</h2>
            <p><strong>Donor:</strong> {{ donation.donor_name }}</p>
            <p><strong>Email:</strong> {{ donation.donor_email }}</p>
            {% if donation.project %}
            <p><strong>Project:</strong> {{ donation.project.title }}</p>
            {% endif %}
            <div class="amount">{{ donation.amount }} {{ donation.currency }}</div>
            <p><strong>Transaction ID:</strong> {{ donation.transaction_id }}</p>
        </div>
        
        <p>Simulate payment outcome:</p>
        
        <form method="post">
            {% csrf_token %}
            <div class="payment-buttons">
                <button type="submit" name="action" value="success" class="btn btn-success">
                    ✓ Simulate Success
                </button>
                <button type="submit" name="action" value="fail" class="btn btn-danger">
                    ✗ Simulate Failure
                </button>
            </div>
        </form>
        
        <p class="form-help-text margin-top">
            In production, this page would redirect to {{ donation.get_payment_method_display }}'s
            secure payment gateway.
        </p>
    </div>
</section>
{% endblock %}

