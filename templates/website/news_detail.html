{% extends 'base.html' %}
{% load static %}

{% block title %}{{ article.title }} - SEVO{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/news.css' %}">
{% endblock %}

{% block content %}
<section class="container">
    <article>
        <h1>{{ article.title }}</h1>
        
        <div class="article-meta">
            <span class="badge">{{ article.get_category_display }}</span>
            <span>{{ article.published_at|date:"F d, Y" }}</span>
            {% if article.author %}
            <span>By {{ article.author.get_full_name|default:article.author.username }}</span>
            {% endif %}
            <span>{{ article.views_count }} views</span>
        </div>
        
        {% if article.featured_image %}
        <img src="{{ article.featured_image.url }}" alt="{{ article.title }}" class="responsive-image">
        {% endif %}
        
        <div class="article-content">
            {{ article.content|linebreaks }}
        </div>
    </article>
    
    {% if related %}
    <div class="related-articles">
        <h2>Related Articles</h2>
        <div class="news-grid">
            {% for related_article in related %}
            <div class="news-card">
                {% if related_article.featured_image %}
                <img src="{{ related_article.featured_image.url }}" alt="{{ related_article.title }}">
                {% endif %}
                <h3>{{ related_article.title }}</h3>
                <p>{{ related_article.excerpt|truncatewords:20 }}</p>
                <a href="{% url 'website:news_detail' related_article.slug %}" class="btn">Read More</a>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    
    <a href="{% url 'website:news' %}" class="btn">Back to News</a>
</section>
{% endblock %}
